[#install-knative-openshift]

**OpenShift**

Knative Serving and Eventing install needs OpenShift v4.x, you need to have one provisioned using https://try.openshift.com[try.openshift.com]or can use any existing OpenShift4 cluster.

Once you have your cluster, you can download the latest OpenShift client(oc) from https://mirror.openshift.com/pub/openshift-v4/clients/ocp/latest/[here] and add to your path.

We will be using https://coreos.com/operators/[Kubernetes Operators] to install Knative serving and eventing components on OpenShift. OpenShift is integrated with https://operatorhub.io/[OperatorHub] that allows you to install the components(using Kubernetes operators) from within OpenShift web console.

[IMPORTANT]
=====
The Knative components are right now available as community components and is currently not supported by Red Hat.
=====

Login to OpenShift console using the cluster admin credentials.

* Select Knative Operators via OperatorHub

image::select_knative_operators.png[]

* Select and Install Knative Serving

image::select_kn_serving.png[]
image::install_knative_serving.png[]

* Subscribe Knative Serving

image::create_knative_serving_sub.png[]

image::subscribed_knative_serving.png[]

* Select and Install Knative Eventing

image::select_kn_eventing.png[]
image::install_knative_eventing.png[]

* Subscribe Knative Eventing

image::create_knative_eventing_sub.png[]

image::subscribed_knative_eventing.png[]

**Configuring OpenShift project for Knative applications**

[#run-ocp-project-config]
[source,bash,subs="+macros,+attributes"]
----
oc new-project knativetutorial
oc adm policy add-scc-to-user privileged -z default #<1>
oc adm policy add-scc-to-user anyuid -z default
----
copyToClipboard::run-ocp-project-config[]

<1> The `oc adm policy` adds the **privileged** https://docs.openshift.com/container-platform/4.1/authentication/managing-security-context-constraints.html[Security Context Constraints (SCCs)] to the **default** Service Account. The SCCs are the precursor to the PSP (Pod Security Policy) mechanism in Kubernetes.
